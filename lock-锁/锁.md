锁 Lock
======

# 悲观锁/乐观锁

# 互斥锁/共享锁（读写锁）

# 可重入锁/不可重入锁

可重入锁是指同一线程可对同一个锁进行多次加锁而不会死锁，不可重入锁则会在线程已持有锁并再次加锁时发生死锁。

可重入锁避免了单线程重复加锁导致的死锁，便于封装。

可重入锁的每一次加锁均需要对应的一次解锁。

# 公平锁/不公平锁

# 自旋锁

自旋锁是指当一个线程在加锁的时候，如果锁已经被其它线程占用，那么该线程将循环检测锁是否已经被释放，直到锁被释放并加锁成功。此时，加锁线程一直处于忙等待（busy waiting）状态，而非自旋锁则在锁被占用时进入睡眠状态。

自旋锁不会使线程状态发生切换，一直处于用户态，减少了不必要的上下文切换，执行速度快。

但是，如果持有锁的时间过长，则会导致其它等待加锁的线程过多占用CPU资源。

自旋锁也可能是不公平的，即无法满足等待时间最长的线程优先获取到锁，不公平的锁就会存在“线程饥饿”问题。

# 中断锁

# 参考
 * []()
