# 数据冗余
数据冗余是指在存储原始数据的同时存储原始数据对应的冗余的数据，数据冗余的两种基本实现技术为多副本和纠删码。

数据冗余提供了部分数据损坏或丢失时恢复完整数据的可能，代价则是需要相比原始数据更多的存储空间。

多副本冗余还可以提高读并发性能，但是多副本若在数据修改时处理不当可能会出现一致性问题。

## 多副本（Replica）

## 纠删码（Erasure Code）

## 多副本和纠删码如何选择？
多副本与纠删码技术在不同的应用场景下有各自的优势。
- **写惩罚**：多副本和纠删码的写惩罚取决于冗余度，冗余度越高写惩罚越高。多副本冗余度取决于副本数，纠删码冗余度取决于校验块数。
- **写性能**：相同硬件环境下，多副本的写性能只取决于写惩罚，纠删码的写性能则主要取决于编码计算。
- **读性能**：相同硬件环境下，多副本和纠删码的单并发读性能差异不大，但是多副本高并发读性能更好。
- **存储利用率和冗余度**：存储利用率是指在原始数据占总存储数据的比率，冗余度则指原始数据可被恢复所能容忍的平均最大丢失块数。理论上，多副本（n副本）空间利用率为$\frac{1}{n}$，其冗余度为$n-1$；纠删码（n+m）空间利用率为$\frac{n}{n+m}$，其冗余度为$\frac{m}{n}$。
理论上的多副本冗余度一般高于纠删码冗余度，但绝大部分由程序自动维护的多副本副本数均为奇数（2n+1）
由个人维护的多副本在数据顺坏时往往可以由人
但在实际过程中，大多数分布式系统均通过一致性维护多副本的数据一致性。
一般情况下，多副本的存储利用率要小于纠删码的存储利用率，且多副本的副本数越多存储利用率越低。
- **恢复概率（可靠性）**：在出现数据损坏情况时原始数据可被恢复的概率（即可靠性）取决于数据的冗余度，冗余度越高则恢复概率越大（即可靠性越好）。
- **恢复效率**：多副本数据恢复一般从另一个副本直接拷贝即可，恢复效率较高；纠删码恢复则需进行运算，恢复效率较低。

# EC库
## [Jerasure](http://jerasure.org/)
## [Intel ISA-L](http://www.intel.com/content/www/us/en/storage/erasure-code-isa-l-solution-video.html)

# 参考
1.[冗余策略：双副本与纠删码该如何选择？](https://www.sohu.com/a/438639905_120873674)

2.[jerasure 2.0译文](https://www.cnblogs.com/pcxie/p/7750074.html)
